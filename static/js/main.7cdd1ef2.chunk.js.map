{"version":3,"sources":["redux/profileBlockReducer.js","api/api.js","redux/dialogBlockReducer.js","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/common/Pager.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/usersReducer.js","redux/usersSelectors.js","components/Users/UsersContainer.js","components/Header/Header.jsx","img/logo-ex-7.png","redux/authReducer.js","components/Header/HeaderContainer.js","components/Login/Login.js","redux/appReducer.js","redux/sideBarReducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","components/common/Pager.module.css","components/common/FormControls.module.css","components/common/FormControls.jsx","components/Navbar/Navbar.module.css","components/common/validators.js","img/preloader.gif","components/common/Preloader.js","components/Users/Users.module.css","components/Header/Header.module.css","components/Login/Login.module.css","img/ava.png","hoc/withAuthRedirect.js"],"names":["ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","DELETE_POST","SET_NEW_PHOTO","EDIT_PROFILE","initialState","anyPosts","id","message","lcount","profile","profileEdit","status","addPostActionCreator","msg","type","setUserStatus","setEditProfile","edit","getUserProfileThunkCreator","userId","dispatch","a","profileApi","getProfile","data","getUserStatusThunkCreator","getStatus","updateUserStatusThunkCreator","updateStatus","resultCode","updatePhotoThunkCreator","file","updatePhotos","response","photos","saveProfileThunkCreator","getState","auth","saveProfile","errMsg","messages","contKey","errObj","forEach","err","errPos","indexOf","errField","length","toLowerCase","slice","stopSubmit","profileBlockReducer","state","action","getMaxId","max","item","nextId","newMsg","filter","p","DAL","axios","baseURL","withCredentials","headers","userApi","getUsers","currentPage","pageSize","get","then","subscribe","post","unSubscribe","delete","put","fileWithPhoto","formData","FormData","append","authApi","isAuthorized","loginUser","logoutUser","securityApi","getCaptchaUrl","ADD_MESSAGE_TO_DIALOG","dialogs","name","addMessageToDialogActionCreator","dialogBlockReducer","Navbar","className","c","nav","to","activeClassName","activeLink","News","Music","Settings","Pager","firstPage","keymax","totItems","goToPage","totPages","Math","ceil","pages","push","map","onClick","classNames","actLink","pageLink","m20","jump","p20","pager","User","props","user","width","src","small","ava","alt","followed","disabled","followButtonFetching","some","unfollow","follow","Users","userList","users","el","key","totUsers","FOLLOW","UNFOLLOW","SET_USERS","SET_PAGE_NUMBER","SET_NUMBER_OF_USERS","SET_FETCHING","SET_FOLLOW_FETCHING","undefined","numberOfPages","isFetching","followAC","unfollowAC","toggleFetchingAC","fetch","toggleFollowButton","followUnfollow","apiMethod","actionCreator","usersReducer","pageNumber","arr","includes","splice","createSelector","usersBlock","getPageSize","getTotalUserCount","getCurrentPage","getIsFetching","getFollowButtonFetching","UsersContainer","page","setPageNumber","getUsersThunkCreator","this","Preloader","React","Component","compose","connect","items","allUsers","totalCount","bind","withAuthRedirect","Header","header","href","login","isAuth","SET_AUTH_USER","SET_CAPTCHA_URL","email","captchaUrl","setAuthUser","setCaptchaUrl","url","getAuthorizedUserThunkCreator","authReducer","HeaderContainer","console","warn","ReduxFormLogin","reduxForm","form","handleSubmit","error","onSubmit","Field","component","Input","validate","required","placeholder","style","errDiv","loginUserThunkCreator","_error","join","INITIALIZED","initialized","appReducer","sideBarReducer","reducers","combineReducers","profileBlock","dialogBlock","sideBar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","reason","alert","initializeApp","addEventListener","processAllUnhandledErrors","removeEventListener","path","render","LoginForm","MyApp","dispatched","Promise","all","SocialNetApp","ReactDOM","document","getElementById","module","exports","Textarea","input","meta","hasError","touched","formControl","value","maxLengthCreator","preloader","mapStateToPropsForRedirect","RedirectComponent"],"mappings":"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","file":"static/js/main.7cdd1ef2.chunk.js","sourcesContent":["import {profileApi} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = \"ADD_POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_USER_STATUS = \"SET_USER_STATUS\";\r\nconst DELETE_POST = \"DELETE_POST\";\r\nconst SET_NEW_PHOTO = \"SET_NEW_PHOTO\";\r\nconst EDIT_PROFILE = \"EDIT_PROFILE\";\r\n\r\nlet initialState = {\r\n    anyPosts: [\r\n        {id: 1, message: \"Hello, how are you?\", lcount: 12},\r\n        {id: 2, message: \"It's my first post!\", lcount: 45},\r\n        {id: 3, message: \"It works correct!\", lcount: 19},\r\n    ],\r\n    profile: null,\r\n    profileEdit: null,\r\n    status: \"\"\r\n};\r\n\r\n// В reducer передаются action и state. state, относящийся к данной ветке\r\nconst profileBlockReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            // Метод для добавления сообщения в массив данных на стороне BLL.\r\n            // Текст сообщения берем из action.msg\r\n\r\n            // В этой функции находим максимальный id поста\r\n            let getMaxId = () => {\r\n                if (state.anyPosts.length === 0) return 0;\r\n                let max = state.anyPosts[0]?.id; // существуют элементы в массиве?\r\n                state.anyPosts.forEach(item => {\r\n                    if (item.id > max) max = item.id;\r\n                });\r\n                return max ?? 0;\r\n            };\r\n\r\n            let nextId = getMaxId() + 1;\r\n            let newMsg = {\r\n                id: nextId,\r\n                message: action.msg,\r\n                lcount: 0\r\n            };\r\n\r\n            return {\r\n                ...state,  // копия для чистой функции, чтобы не изменялись передаваемые параметры\r\n                anyPosts: [...state.anyPosts, newMsg] // добавили элемент к скопированному массиву\r\n            };\r\n\r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.profile};\r\n\r\n        case SET_USER_STATUS:\r\n            return {...state, status: action.status};\r\n\r\n        case DELETE_POST:\r\n            return {...state, anyPosts: state.anyPosts.filter(p => p.id !== action.id)};\r\n\r\n        case SET_NEW_PHOTO:\r\n            return {...state, profile: {...state.profile, photos: action.photos}};\r\n\r\n        case EDIT_PROFILE:\r\n            return {...state, profileEdit: action.edit};\r\n\r\n        default:\r\n            break;\r\n    }\r\n    return state;\r\n}\r\n\r\nexport const addPostActionCreator = (msg) => ({type: ADD_POST, msg});\r\nconst setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nconst setUserStatus = (status) => ({type: SET_USER_STATUS, status});\r\nexport const deletePostActionCreator = (id) => ({type: DELETE_POST, id});\r\nconst setNewPhotos = (photos) => ({type: SET_NEW_PHOTO, photos});\r\nexport const setEditProfile = (edit) => ({type: EDIT_PROFILE, edit});\r\n\r\nexport const getUserProfileThunkCreator = (userId) => async (dispatch) => {\r\n    let data = await profileApi.getProfile(userId);\r\n    dispatch(setUserProfile(data));\r\n}\r\n\r\nexport const getUserStatusThunkCreator = (userId) => async (dispatch) => {\r\n    let data = await profileApi.getStatus(userId)\r\n    dispatch(setUserStatus(data));\r\n}\r\n\r\nexport const updateUserStatusThunkCreator = (status) => async (dispatch) => {\r\n    let data = await profileApi.updateStatus(status)\r\n    if (data.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status));\r\n    }\r\n}\r\n\r\nexport const updatePhotoThunkCreator = (file) => async (dispatch) => {\r\n    let response = await profileApi.updatePhotos(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setNewPhotos(response.data.data.photos));\r\n    }\r\n}\r\n\r\nexport const saveProfileThunkCreator = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileApi.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfileThunkCreator(userId));\r\n        dispatch(setEditProfile(false))\r\n    } else {\r\n        // processing server error messages\r\n        const errMsg = response.data.messages;\r\n        const contKey = \"Contacts->\";\r\n        const errObj = {};\r\n        errMsg.forEach(err => {\r\n            const errPos = err.indexOf(contKey);\r\n\r\n            if (~errPos) {\r\n                const errField = err[errPos + contKey.length].toLowerCase() +\r\n                    err.slice(errPos + contKey.length + 1, -1);\r\n                errObj[\"contacts\"] = {...errObj[\"contacts\"], [errField]: err};\r\n            } else {\r\n                errObj[\"_error\"] = err;\r\n            }\r\n        });\r\n        dispatch(stopSubmit('profile-data', errObj))\r\n    }\r\n}\r\n\r\nexport default profileBlockReducer;","import * as axios from \"axios\";\r\n\r\n// Создаём отдельный экземпляр axios с заданными параметрами\r\nconst DAL = axios.create({\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    withCredentials: true,\r\n    headers: {\"API-KEY\": \"111ed823-b679-4f02-a085-07162f56ee6f\"}\r\n});\r\n\r\n// Набор методов для работы с server API\r\nexport const userApi = {\r\n    getUsers (currentPage=1, pageSize=50) {\r\n        return DAL.get(`https://social-network.samuraijs.com/api/1.0/users?page=${currentPage}&count=${pageSize}`)\r\n        // return DAL.get(`http://localhost/users3.php?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    subscribe(userId) {\r\n        return DAL.post(`follow/${userId}`, {})\r\n            .then(response => response.data)\r\n    },\r\n    unSubscribe(userId) {\r\n        return DAL.delete(`follow/${userId}`)\r\n            .then(response => response.data)\r\n    }\r\n};\r\n\r\nexport const profileApi = {\r\n    getProfile(userId) {\r\n        return DAL.get(`profile/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    getStatus(userId) {\r\n        return DAL.get(`profile/status/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    updateStatus(status) {\r\n        return DAL.put(`profile/status/`,{status});\r\n    },\r\n    updatePhotos(fileWithPhoto) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", fileWithPhoto);\r\n        return DAL.put(`profile/photo`, formData, {\r\n            headers:{\r\n                \"Content-Type\": \"multipart/form-data\"\r\n            }\r\n        });\r\n    },\r\n    saveProfile(profile) {\r\n        return DAL.put(`profile`, profile);\r\n    },\r\n}\r\n\r\nexport const authApi = {\r\n    isAuthorized() {\r\n        return DAL.get(`auth/me`)\r\n            .then(response => response.data);\r\n    },\r\n    loginUser(data) {\r\n        return DAL.post('auth/login',data)\r\n            .then(response => response.data);\r\n    },\r\n    logoutUser() {\r\n        return DAL.delete('auth/login')\r\n            .then(response => response.data);\r\n    }\r\n}\r\nexport const securityApi = {\r\n    getCaptchaUrl() {\r\n        return DAL.get(`security/get-captcha-url`)\r\n            .then(response => response.data);\r\n    }\r\n}","const ADD_MESSAGE_TO_DIALOG = \"ADD-MESSAGE-TO-DIALOG\";\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: \"Ivan\"},\r\n        {id: 2, name: \"Zorro\"},\r\n        {id: 3, name: \"Javier\"},\r\n        {id: 4, name: \"Mike\"},\r\n        {id: 5, name: \"Ramirez\"},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: \"Hello!\"},\r\n        {id: 2, message: \"Hey you!\"},\r\n        {id: 3, message: \"Yo!\"},\r\n    ]\r\n};\r\n\r\n// В reducer передаются action и state. state, относящийся к данной ветке\r\nconst dialogBlockReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE_TO_DIALOG:\r\n            // В этой функции находим максимальный id сообщения\r\n            let getMaxId = () => {\r\n                if (state.messages.length === 0) return 0;\r\n                let max = state.messages[0]?.id; // существуют элементы в массиве?\r\n                state.messages.forEach(item => {\r\n                    if (item.id > max) max = item.id;\r\n                });\r\n                return max ?? 0;\r\n            };\r\n\r\n            let nextId = getMaxId() + 1;\r\n            let newMsg = {\r\n                id: nextId,\r\n                message: action.msg\r\n            };\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, newMsg],\r\n            };\r\n\r\n        default:\r\n            break;\r\n    }\r\n    return state;\r\n};\r\n\r\nexport const addMessageToDialogActionCreator = (msg) => ({type: ADD_MESSAGE_TO_DIALOG, msg});\r\n\r\nexport default dialogBlockReducer;","import c from \"./Navbar.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <header className={c.nav}>\r\n            <div><NavLink to=\"/profile\" activeClassName={c.activeLink}>Profile</NavLink></div>\r\n            <div><NavLink to=\"/dialogs\" activeClassName={c.activeLink}> Dialogs </NavLink></div>\r\n            <div><NavLink to=\"/users\" activeClassName={c.activeLink}> Find users </NavLink></div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Navbar;","\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","// Определение компонеты Music\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n           Music\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","// Формирование строки страниц\r\nimport classNames from \"classnames\";\r\nimport c from \"./Pager.module.css\";\r\nimport React from \"react\";\r\n\r\nconst Pager = ({totItems, pageSize, currentPage, goToPage}) => {\r\n    let totPages = Math.ceil(totItems / pageSize);\r\n    let pages = [];\r\n    let firstPage, keymax;\r\n\r\n    if (currentPage - 10 < 1) firstPage = 1;\r\n    else firstPage = currentPage - 10;\r\n    for (let p = firstPage; p <= firstPage + (totPages - firstPage > 20 ? 20 : totPages - firstPage); p++) {\r\n        pages.push(p);\r\n    }\r\n    keymax = pages[pages.length - 1] + 1;\r\n    pages = pages.map(p => <span onClick={() => { goToPage(p) }} key={p}\r\n                                 className={classNames({  [c.actLink]: p === currentPage,\r\n                                                                [c.pageLink]: p !== currentPage\r\n                                                             }\r\n                                            )}>\r\n                            {p}</span>);\r\n    if (firstPage > 1) {\r\n        let m20 = firstPage - 10 < 1 ? 1 : firstPage - 10;\r\n        pages = [<span key=\"-1\">\r\n                    <span onClick={() => {goToPage(m20);}}\r\n                        className={classNames(c.pageLink, c.jump)}>{m20 > 1 ? '-20' : m20} &lt;&lt;\r\n                    </span>&nbsp;\r\n                 </span>, ...pages]\r\n    }\r\n    if (currentPage < totPages - 10) {\r\n        let p20 = currentPage + 20 > totPages ? totPages : currentPage + 20;\r\n        pages = [...pages, <span key={keymax}>&nbsp;\r\n                                <span onClick={() => {goToPage(p20);}}\r\n                                      className={classNames([c.pageLink, c.jump])}> &gt;&gt; +20\r\n                                </span>\r\n                           </span>]\r\n    }\r\n    return <div className={c.pager}>{pages}</div>;\r\n};\r\n\r\nexport default Pager;","import React from \"react\";\r\nimport ava from \"../../img/ava.png\"\r\nimport c from \"./Users.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = (props) => {\r\n\r\n    // Формирование одного пользователя для списка\r\n\r\n    const user = props.user;\r\n    return <div>\r\n        <table><tbody>\r\n            <tr>\r\n                <td width=\"100px\">\r\n                    <div><NavLink to={\"profile/\" + user.id}>\r\n                        <img src={user.photos.small ?? ava} alt=\"avatar\" className={c.ava}/>\r\n                    </NavLink>\r\n                    </div>\r\n                    <div>{user.followed ?\r\n                        <button disabled={props.followButtonFetching?.some(id => id === user.id)}\r\n                                onClick={() => {\r\n                                    props.unfollow(user.id)\r\n                                }}>unfollow</button> :\r\n                        <button disabled={props.followButtonFetching?.some(id => id === user.id)}\r\n                                onClick={() => {\r\n                                    props.follow(user.id)\r\n                                }}>follow</button>}</div>\r\n                </td>\r\n                <td>\r\n                    <div className={c.name}>{user.name}</div>\r\n                    <div>{\"user.location.city\"} ({\"user.location.country\"})</div>\r\n                    <div>Статус: {user.status}</div>\r\n                </td>\r\n            </tr>\r\n        </tbody></table>\r\n    </div>;\r\n};\r\n\r\nexport default User;","import React from \"react\";\r\nimport Pager from \"../common/Pager\";\r\nimport User from \"./User\";\r\nimport c from \"./Users.module.css\";\r\n\r\nlet Users = (props) => {\r\n\r\n    // Формирование списка пользователей\r\n    const userList = props.users.map(el => <User user={el} {...props} key={el.id}/>);\r\n    return <div>\r\n        <div><Pager totItems={props.totUsers} {...props}/></div>\r\n        <div>{userList}</div>\r\n    </div>;\r\n}\r\n\r\nexport default Users;","import {userApi} from \"../api/api\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_PAGE_NUMBER = \"SET_PAGE_NUMBER\";\r\nconst SET_NUMBER_OF_USERS = \"SET_NUMBER_OF_USERS\";\r\nconst SET_FETCHING = \"SET_FETCHING\";\r\nconst SET_FOLLOW_FETCHING = \"SET_FOLLOW_FETCHING\";\r\n\r\nlet initialState = {\r\n    users: [\r\n        /*{id: 1, follower: false, mood:\"Have a nice day!\", name: \"Mike\", location:{city:\"Pert\", country:\"Australia\"},foto:\"https://livelyplanet.ru/uploads/mini/gl/a3/4159c2d74c2156b913d3475a13309d.webp\"},\r\n        {id: 2, follower: true, mood:\"I'm a cleaner!\", name: \"July\", location:{city:\"Turku\", country:\"Finland\"},foto:\"https://lh3.googleusercontent.com/proxy/qAuIqYFfqqx-jQzmxXm5mv7oaYQnGAF8TFiY7nCakF1v1x9ho-EKevvJqN0ekxAOn-1igOsqzX7Z1m0ta-u0_YxMaGWUVX48QQB16XUhDF31nfCkxlEKdw\"},\r\n        {id: 3, follower: false, mood:\"Everything is OK!\", name: \"Tanya\", location:{city:\"Montreal\", country:\"Canada\"},foto:\"https://livelyplanet.ru/uploads/mini/gl/a3/4159c2d74c2156b913d3475a13309d.webp\"},*/\r\n    ],\r\n    pageSize: 75,\r\n    totUsers: undefined,\r\n    currentPage: 1,\r\n    numberOfPages: undefined,\r\n    isFetching: false,\r\n    followButtonFetching: [] // массив id пользователей, у кот.идёт обновление follow/unfollow\r\n};\r\n\r\n// В reducer передаются action и state. state, относящийся к данной ветке\r\nconst usersReducer = (state=initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USERS:\r\n            return {\r\n                ...state,  // копия для чистой функции, чтобы не изменялись передаваемые параметры\r\n                users: [...action.users], // полностью заменяем массив контактов\r\n            };\r\n\r\n        case FOLLOW: // добавить в друзья\r\n            return {\r\n                ...state,  // копия для чистой функции, чтобы не изменялись передаваемые параметры\r\n                users: state.users.map((el) => {\r\n                    if (action.userId === el.id) return {...el, followed: true};\r\n                    return el;\r\n                }),\r\n            };\r\n\r\n        case UNFOLLOW: // удалить из друзей\r\n            return {\r\n                ...state,\r\n                users: state.users.map((el) => {\r\n                    if (action.userId === el.id) return {...el, followed: false};\r\n                    return el;\r\n                }),\r\n            };\r\n\r\n        case SET_NUMBER_OF_USERS:\r\n            return {\r\n                ...state,  // копия для чистой функции, чтобы не изменялись передаваемые параметры\r\n                totUsers: action.totUsers,\r\n            };\r\n\r\n        case SET_PAGE_NUMBER:\r\n            return {\r\n                ...state,  // копия для чистой функции, чтобы не изменялись передаваемые параметры\r\n                currentPage: action.pageNumber,\r\n            };\r\n\r\n        case SET_FETCHING:\r\n            return {\r\n                ...state,  // копия для чистой функции, чтобы не изменялись передаваемые параметры\r\n                isFetching: action.isFetching,\r\n            };\r\n\r\n        case SET_FOLLOW_FETCHING:\r\n        {\r\n            let arr=[...state.followButtonFetching];\r\n            if (action.isFetching) {\r\n                arr.push(action.userId);\r\n            } else {\r\n                while (arr.includes(action.userId))\r\n                    arr.splice(arr.indexOf(action.userId), 1);\r\n            }\r\n            return {\r\n                ...state,  // копия для чистой функции, чтобы не изменялись передаваемые параметры\r\n                followButtonFetching: arr\r\n            };\r\n        }\r\n\r\n        default:\r\n            break;\r\n    }\r\n    return state;\r\n}\r\n\r\nexport const followAC = (userId) => ({type:FOLLOW, userId});\r\nexport const unfollowAC = (userId) => ({type:UNFOLLOW, userId});\r\nexport const setUsersAC = (users) => ({type:SET_USERS, users});\r\nexport const setPageNumberAC = (page) => ({type:SET_PAGE_NUMBER, pageNumber:page});\r\nexport const setNumberOfUsersAC = (allUsers) => ({type:SET_NUMBER_OF_USERS, totUsers:allUsers});\r\nexport const toggleFetchingAC = (fetch) => ({type:SET_FETCHING, isFetching:fetch});\r\nexport const toggleFollowButton = (fetch, userId) => ({type:SET_FOLLOW_FETCHING, isFetching:fetch, userId});\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFetchingAC(true));\r\n        let data = await userApi.getUsers(currentPage, pageSize)\r\n        dispatch(toggleFetchingAC(false));\r\n        dispatch(setUsersAC(data.items));\r\n        dispatch(setNumberOfUsersAC(data.totalCount));\r\n    }\r\n}\r\n\r\n// Вынесли дублирующую часть кода в отдельную функцию\r\nconst followUnfollow = async (userId, dispatch, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowButton(true, userId));\r\n    let data = await apiMethod(userId)\r\n    dispatch(toggleFollowButton(false, userId));\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n}\r\n\r\n// ThunkCreator для unfollow\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnfollow(userId, dispatch, userApi.unSubscribe.bind(userApi), unfollowAC)\r\n    }\r\n}\r\n\r\n// ThunkCreator для follow\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnfollow(userId, dispatch, userApi.subscribe.bind(userApi), followAC)\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import {createSelector} from \"reselect\";\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersBlock.users;\r\n}\r\n\r\n// Сложный селектор. Анализирует зависимости (getUsersSelector),\r\n// при их имзенении вызывает внутреннюю ф-цию со сложной логикой.\r\n// Параметры ф-ции:\r\n// 1) зависимости (скаляр или массив),\r\n// 2) вычисляемое значение - ф-ция, параметры в которую передаются\r\n//    из соответствующих зависимостей.\r\nexport const getUsers = createSelector(getUsersSelector,(users) => {\r\n    return users.filter(() => true);\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersBlock.pageSize;\r\n}\r\n\r\nexport const getTotalUserCount = (state) => {\r\n    return state.usersBlock.totUsers;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersBlock.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersBlock.isFetching;\r\n}\r\n\r\nexport const getFollowButtonFetching = (state) => {\r\n    return state.usersBlock.followButtonFetching;\r\n}","import {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {\r\n    setPageNumberAC,\r\n    getUsersThunkCreator, unfollow, follow\r\n} from \"../../redux/usersReducer\";\r\nimport React from \"react\";\r\nimport Preloader from \"../common/Preloader\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowButtonFetching, getIsFetching,\r\n    getPageSize,\r\n    getTotalUserCount,\r\n    getUsers\r\n} from \"../../redux/usersSelectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    // Метод componentDidMount вызывается только 1 раз после отрисовки компоненты\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.getUsersThunkCreator(currentPage, pageSize);\r\n    }\r\n\r\n    goToPage = (page) => {\r\n        this.props.setPageNumber(page);\r\n        const {pageSize} = this.props;\r\n        this.props.getUsersThunkCreator(page, pageSize);\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users users={this.props.users}\r\n                   totUsers={this.props.totUsers}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   followButtonFetching={this.props.followButtonFetching}\r\n                   goToPage={this.goToPage}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n            /></>;\r\n\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        totUsers: getTotalUserCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        pageSize: getPageSize(state),\r\n        isFetching: getIsFetching(state),\r\n        followButtonFetching: getFollowButtonFetching(state)\r\n    };\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        setPageNumber: setPageNumberAC,\r\n        getUsersThunkCreator,\r\n        unfollow, follow\r\n    }),\r\n    withAuthRedirect\r\n)(UsersContainer);","import pic1 from \"../../img/logo-ex-7.png\"\r\nimport c from \"./Header.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <div className={c.header}>\r\n            <NavLink to=\"/\"><img src={pic1} alt=\"logo\"/></NavLink>\r\n            <a href=\"http://kuku.ru\">File </a> -\r\n            <a href=\"#\">Edit</a> -\r\n            <a href=\"#\">Help</a>\r\n            <span className={c.login}>\r\n                {props.isAuth ?\r\n                    <span><span className={c.name}>{props.login}</span> <button onClick={props.logoutUser}>Logout</button></span> :\r\n                    <NavLink to=\"/login\">login</NavLink>}\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;","export default \"data:image/png;base64,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\"","import {authApi, securityApi} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_AUTH_USER = \"SET_AUTH_USER\";\r\nconst SET_CAPTCHA_URL = \"SET_CAPTCHA_URL\";\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n};\r\n\r\n// В reducer передаются action и state. state, относящийся к данной ветке\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER:\r\n        case SET_CAPTCHA_URL:\r\n            return {\r\n                ...state,  // копия для чистой функции, чтобы не изменялись передаваемые параметры\r\n                ...action.data\r\n            };\r\n\r\n        default:\r\n            break;\r\n    }\r\n    return state;\r\n}\r\n\r\nconst setAuthUser = (id, email, login, isAuth) => ({\r\n    type: SET_AUTH_USER,\r\n    data: {userId: id, email, login, isAuth}\r\n});\r\n\r\nconst setCaptchaUrl = (url) => ({\r\n    type: SET_CAPTCHA_URL,\r\n    data: {captchaUrl: url}\r\n});\r\n\r\nexport const getAuthorizedUserThunkCreator = () => async (dispatch) => {\r\n    let data = await authApi.isAuthorized()\r\n    if (data.resultCode === 0) {\r\n        let {id, email, login} = data.data; // деструктурирующее присваивание\r\n        dispatch(setAuthUser(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const loginUserThunkCreator = (login) => async (dispatch) => {\r\n    let data = await authApi.loginUser(login)\r\n    if (data.resultCode === 0) {\r\n        dispatch(setCaptchaUrl(null));\r\n        dispatch(getAuthorizedUserThunkCreator());\r\n    } else {\r\n        dispatch(stopSubmit(\"login\", {_error: data.messages.join(\", \")}));\r\n        console.warn(\"loginUserThunkCreator ERROR! messages=\", data.messages);\r\n        if (data.resultCode === 10) { // captcha needed!\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n    }\r\n}\r\n\r\nexport const logoutUserThunkCreator = () => async (dispatch) => {\r\n    let data = await authApi.logoutUser()\r\n    if (data.resultCode === 0) {\r\n        dispatch(setAuthUser(null, null, null, false));\r\n        dispatch(setCaptchaUrl(null));\r\n    } else {\r\n        console.warn(\"logoutUserThunkCreator ERROR! messages=\", data.messages);\r\n    }\r\n}\r\n\r\nconst getCaptchaUrl = () => async (dispatch) => {\r\n    const data = await securityApi.getCaptchaUrl();\r\n    const captchaUrl = data.url;\r\n    dispatch(setCaptchaUrl(captchaUrl));\r\n}\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logoutUserThunkCreator} from \"../../redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    userId: state.auth.userId,\r\n    email: state.auth.email,\r\n    login: state.auth.login,\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    logoutUser: () => {dispatch(logoutUserThunkCreator())}\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);","import {Field, reduxForm} from 'redux-form';\r\nimport {loginUserThunkCreator} from \"../../redux/authReducer\";\r\nimport {Input} from \"../common/FormControls\";\r\nimport {required} from \"../common/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from \"./Login.module.css\"\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <div><Field type=\"text\" name=\"email\" component={Input}\r\n                    validate={[required]} placeholder=\"login\"/></div>\r\n        <div><Field type=\"password\" name=\"password\" component={Input}\r\n                    validate={[required]} placeholder=\"password\"/></div>\r\n        <div><Field type=\"checkbox\" name=\"rememberMe\" component={Input}/>запомнить</div>\r\n        {error && <div className={style.errDiv}><span className={style.error}>{error}</span></div>}\r\n        {captchaUrl && <div><img src={captchaUrl}/>\r\n            <div><Field type=\"text\" name=\"captcha\" component={Input}\r\n                        validate={[required]} placeholder=\"captcha\"/>\r\n            </div>\r\n        </div>}\r\n        <div>\r\n            <button>Login</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst ReduxFormLogin = reduxForm({\r\n    form: 'login' // a unique identifier for this form\r\n})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const mySubmit = (formData) => {\r\n        props.loginUserThunkCreator(formData);\r\n    };\r\n\r\n    if (props.isAuth) return <Redirect to=\"/\"/>\r\n\r\n    return <div><h2>Login</h2>\r\n        <ReduxFormLogin onSubmit={mySubmit} captchaUrl={props.captchaUrl}/></div>\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl\r\n});\r\n\r\nexport default connect(mapStateToProps, {loginUserThunkCreator})(Login);","import {getAuthorizedUserThunkCreator} from \"./authReducer\";\r\n\r\nconst INITIALIZED = \"INITIALIZED\";\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\n// В reducer передаются action и state. state, относящийся к данной ветке\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED:\r\n            return {\r\n                ...state,  // не нужно, но на перспективу\r\n                initialized: true\r\n            };\r\n\r\n        default:\r\n            break;\r\n    }\r\n    return state;\r\n}\r\n\r\nconst setInitialized = () => ({type: INITIALIZED});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let dispatched = dispatch(getAuthorizedUserThunkCreator());\r\n    Promise.all([dispatched])\r\n        .then (\r\n            ()=>{\r\n                dispatch(setInitialized());\r\n            }\r\n        )\r\n}\r\n\r\nexport default appReducer;","let initialState = {};\r\n\r\n// В reducer передаются action и state. state, относящийся к данной ветке\r\nconst sideBarReducer = (state = initialState, action) => {\r\n    return state;\r\n};\r\n\r\nexport default sideBarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileBlockReducer from \"./profileBlockReducer\";\r\nimport dialogBlockReducer from \"./dialogBlockReducer\";\r\nimport sideBarReducer from \"./sideBarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\"\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profileBlock: profileBlockReducer,\r\n    dialogBlock: dialogBlockReducer,\r\n    sideBar: sideBarReducer,\r\n    usersBlock: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n\r\n// для активации браузерного расширения Redux DevTools\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nlet store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nwindow.store = store\r\nexport default store;","import React, {Suspense} from \"react\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {return <Suspense fallback={<div>Загрузка...</div>}><Component {...props}/></Suspense>};\r\n}","import React from \"react\";\nimport \"./App.css\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport {BrowserRouter, Redirect, Route, Switch} from \"react-router-dom\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginForm from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {initializeApp} from \"./redux/appReducer\";\nimport Preloader from \"./components/common/Preloader\";\nimport store from \"./redux/redux-store\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\n\nclass App extends React.Component {\n    processAllUnhandledErrors(reason) {\n        alert('An ERROR occured!!!\\n'+reason.reason.message ?? \"\");\n        console.error(\"Some error occured! Reason:\", reason.reason.message)\n    }\n\n    componentDidMount() {\n        this.props.initializeApp();\n        window.addEventListener(\"unhandledrejection\", this.processAllUnhandledErrors)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"unhandledrejection\", this.processAllUnhandledErrors)\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className=\"App-container\">\n                <HeaderContainer/>\n                {/*Версия React:{React.version};*/}{/*17.0.1*/}\n                <Navbar/>\n                <div className=\"App-container-content\">\n                    {/*<Switch>*/}\n                        {/*<Route exact path=\"/\" render={() => <Redirect to={\"/profile\"}/>}/>*/}\n                        <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)}/>\n                        <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)}/>\n                        <Route path=\"/news\" component={News}/>\n                        <Route path=\"/music\" component={Music}/>\n                        <Route path=\"/settings\" component={Settings}/>\n                        <Route path=\"/users\" component={UsersContainer}/>\n                        <Route path=\"/login\" component={LoginForm}/>\n                        {/*<Route path=\"*\" render={()=><div>404 - NOT FOUND</div>}/>*/}\n                    {/*</Switch>*/}\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\nlet MyApp = connect(mapStateToProps, {initializeApp})(App);\n\nlet SocialNetApp = () => {\n    return <BrowserRouter>\n        <Provider store={store}>\n            <MyApp/>\n        </Provider>\n    </BrowserRouter>;\n};\n\nexport default SocialNetApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SocialNetApp from \"./App\";\n\nReactDOM.render(\n    <SocialNetApp/>,\n    document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pager\":\"Pager_pager__3zRzK\",\"actLink\":\"Pager_actLink__X_DLa\",\"pageLink\":\"Pager_pageLink__ywktf\",\"jump\":\"Pager_jump__23ToO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__Fgka6\",\"error\":\"FormControls_error__1vd8M\"};","import style from \"./FormControls.module.css\";\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return <div>\r\n        <div className={style.formControl + \" \" + (hasError ? style.error : \"\") }>\r\n            <textarea {...input} {...props}/>\r\n        </div>\r\n        {hasError && <span className={style.error}>{meta.error}</span>}\r\n    </div>;\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return <span>\r\n        <span className={style.formControl + \" \" + (hasError ? style.error : \"\") }>\r\n            <input {...input} {...props}/>\r\n        </span>\r\n        {hasError && <span className={style.error}>{meta.error}</span>}\r\n    </span>;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1Yt5C\",\"activeLink\":\"Navbar_activeLink__2Tlt9\"};","export const required = value => {\r\n    if (value) return undefined;\r\n    return \"This field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = length => value => {\r\n    if (value && value.length<=length) return undefined;\r\n    return `Max length is ${length} chars`;\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/preloader.8cf2a2c3.gif\";","import preloader from \"../../img/preloader.gif\";\r\n\r\nconst Preloader = () => {\r\n    return <div>\r\n        <img src={preloader} alt=\"preloader\"/></div>;\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ava\":\"Users_ava__1GG8j\",\"name\":\"Users_name__2D0sF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__wnWA_\",\"login\":\"Header_login__34UIA\",\"name\":\"Header_name__3QQoL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errDiv\":\"Login_errDiv__155_q\",\"error\":\"Login_error__3Q48w\"};","export default \"data:image/png;base64,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\"","import {Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        userId: state.auth.userId\r\n    };\r\n};\r\n\r\n// Добавили функционал redirect на страницу login в случае неавторизованного\r\n// пользователя с применением ф-ции HOC\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to=\"/login\"/>;\r\n            return <Component {...this.props}/>;\r\n        }\r\n    }\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n}"],"sourceRoot":""}