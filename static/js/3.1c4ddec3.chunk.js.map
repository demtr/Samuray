{"version":3,"sources":["components/Profile/Profile.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","img/like.jfif","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","img/landscape.webp","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileStatusWithHooks.js","components/Profile/ProfileDataForm.jsx","components/Profile/ProfileInfo.js","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","Post","huj","className","c","item","src","ava","alt","message","like","lcount","maxLength","maxLengthCreator","NewPostReduxForm","reduxForm","form","props","onSubmit","handleSubmit","Field","component","Textarea","name","new","placeholder","validate","required","MyPosts","p","myPostsComp","state","anyPosts","map","el","id","theBlock","formContent","newPost","newMsgText","posts","MyPostsContainer","connect","profileBlock","dispatch","text","addPostActionCreator","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","isMe","type","onBlur","updateStatus","autoFocus","size","onChange","e","target","ReduxFormProfileData","profile","savePhoto","goOutOfEditMode","error","cnt","head","photos","large","mainPhoto","files","Input","cols","style","errDiv","contacts","entries","onClick","ProfileData","goToEditMode","fullName","color","aboutMe","contactsHead","lookingForAJob","lookingForAJobDescription","ProfileInfo","saveProfile","Preloader","land","initialValues","formData","Profile","updateUserStatus","userId","myUserId","setEditProfile","ProfileContainer","this","match","params","getUserProfile","getUserStatus","refreshProfile","prevProps","prevState","snapshot","React","Component","compose","profileEdit","auth","getUserProfileThunkCreator","getUserStatusThunkCreator","updateUserStatusThunkCreator","photo","updatePhotoThunkCreator","saveProfileThunkCreator","mode","withAuthRedirect","withRouter"],"mappings":"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","file":"static/js/3.1c4ddec3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"land\":\"Profile_land__2SUOE\",\"status\":\"Profile_status__3r650\",\"mainPhoto\":\"Profile_mainPhoto__1TUL9\",\"contacts\":\"Profile_contacts__2M2AA\",\"head\":\"Profile_head__bcnF-\",\"contactsHead\":\"Profile_contactsHead__1Zs0b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"MyPosts_item__1ay08\",\"theBlock\":\"MyPosts_theBlock__1QC0O\",\"posts\":\"MyPosts_posts__2tgx_\",\"new\":\"MyPosts_new__2tQMS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1oe1X\",\"like\":\"Post_like__2YyyD\"};","export default __webpack_public_path__ + \"static/media/like.dab55641.jfif\";","// Определение компонеты Post (одно сообщение в профиле пользователя(на стене?))\r\n\r\nimport c from \"./Post.module.css\";\r\nimport ava from \"../../../../img/ava.png\"\r\nimport like from \"../../../../img/like.jfif\"\r\n\r\nconst Post = (huj) => {\r\n    return (\r\n        <div>\r\n            <div className={c.item}><img src={ava} alt=\"avatar\"/>{huj.message}\r\n                <span className={c.like}><img src={like} alt=\"like\"/>{huj.lcount}</span></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import c from \"./MyPosts.module.css\";\r\nimport Post from \"./Post/Post\";\r\nimport React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../common/validators\";\r\nimport {Textarea} from \"../../common/FormControls\";\r\n\r\n\r\n// Функциональная компонента ничего не знает о store, работает только с контейнерной компонентой\r\nconst MyPosts = (p) => {\r\n    // Здесь функция map преобразует массив данных в массив компонентов, содержащих этих данных,\r\n    // фактически оборачивает данные в html разметку!\r\n    const myPostsComp = p.state.anyPosts.map(el => <Post key={el.id} message={el.message} lcount={el.lcount}/>);\r\n\r\n    // Использование проброшенной функции для добавления сообщения в массив сообщений на стороне бизнес логики.\r\n    // Получения текста сообщения происходит на стороне BLL.\r\n    let addNewPost = (formContent) => {\r\n        p.newPost(formContent.newMsgText);\r\n    };\r\n\r\n    return (\r\n        <div className={c.theBlock}>\r\n\r\n            <h3 className={c.item}>My posts</h3>\r\n            <NewPostReduxForm onSubmit={addNewPost}/>\r\n            <div className={c.posts}>\r\n                {myPostsComp}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Через замыкание создаём ф-цию с максимальной требуемой длиной\r\nconst maxLength = maxLengthCreator(30);\r\n\r\nconst newPostForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div><Field component={Textarea} name={\"newMsgText\"} className={c.new}\r\n                    placeholder={\"Type new post here\"} validate={[required, maxLength]}/>\r\n        </div>\r\n        <div>\r\n            <button>Add post</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst NewPostReduxForm = reduxForm({form: \"newPostForm\"})(newPostForm);\r\n\r\nexport default MyPosts;","import {addPostActionCreator} from \"../../../redux/profileBlockReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n// ф-ция возвращает объект данных\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        state: state.profileBlock\r\n    }\r\n}\r\n\r\n// ф-ция возвращает объект коллбеков\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        newPost: (text) => {dispatch(addPostActionCreator(text));}\r\n    }\r\n}\r\n\r\n// connect созадёт контейнерную компоненту MyPostsContainer. Она замыкает на себе\r\n// общение со store и передаёт данные и колбеки в презентационную компоненту MyPosts.\r\n// store передаётся по технологии context через компоненту Provider в файле index.js\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","export default __webpack_public_path__ + \"static/media/landscape.88de7fd0.webp\";","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import {useEffect, useState} from \"react\";\r\nimport c from \"./Profile.module.css\";\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n// хук useEffect вызывается после отрисовки и при изменении зависимостей (2-ой аргумент)\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const setEditModeOn = () => {\r\n        if (!props.isMe) return; // не меняем свой статус на основании чужого!\r\n        setEditMode(true);\r\n    }\r\n    const setEditModeOff = () => {\r\n        setEditMode(false);\r\n        if (props.status !== status) {\r\n            props.updateStatus(status);\r\n        }\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.target.value);\r\n    }\r\n\r\n    return <div>\r\n        <div className={c.status}>Статус:</div>\r\n        {!editMode &&\r\n        <div onDoubleClick={setEditModeOn}>{props.status || \"нет\"}</div>}\r\n        {editMode &&\r\n        <div><input type=\"text\" onBlur={setEditModeOff}\r\n                    autoFocus={true} size=\"50\"\r\n                    onChange={onStatusChange}\r\n                    value={status}/></div>}\r\n    </div>;\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import ava from \"../../img/ava.png\";\r\nimport c from \"./Profile.module.css\";\r\nimport {Input, Textarea} from \"../common/FormControls\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {required} from \"../common/validators\";\r\nimport style from \"../Login/Login.module.css\";\r\n\r\nconst ProfileDataForm = ({profile, isMe, savePhoto, goOutOfEditMode, handleSubmit, error}) => {\r\n    const getPhoto = (e) => {\r\n        if (e.target.files?.length) {\r\n            savePhoto(e.target.files[0]);\r\n        }\r\n    }\r\n    let cnt = 0;\r\n\r\n    return <form onSubmit={handleSubmit}>\r\n        <h2 className={c.head}>Edit profile</h2>\r\n        <div><img src={profile.photos?.large || ava} alt=\"Contact picture\" className={c.mainPhoto}/></div>\r\n        {isMe && <div><i>Изменить фото профиля</i><br/><input type={\"file\"} onChange={getPhoto}/></div>}\r\n        <br/>\r\n        <div><b>Полное имя: </b>\r\n            <Field type=\"text\" name=\"fullName\" component={Input}\r\n                   validate={[required]} placeholder=\"полное имя\"/></div>\r\n        <div><b>Про меня: </b>\r\n            <Field type=\"text\" name=\"aboutMe\" component={Textarea}\r\n                   validate={[required]} placeholder=\"про меня\" cols=\"50\"/></div>\r\n        <div><h3>Контакты:</h3></div>\r\n        {error && <div className={style.errDiv}><span className={style.error}>{error}</span></div>}\r\n        <div className={c.contacts}>{Object.entries(profile.contacts).map(c => {\r\n                return <div key={cnt++}><b>{c[0]}: </b>\r\n\r\n                    <Field type=\"text\" name={\"contacts.\" + c[0]} component={Input}\r\n                           validate={[]}/>\r\n                </div>\r\n            }\r\n        )}</div>\r\n        <div><br/><b>Поиск работы:</b>\r\n            <Field type=\"checkbox\" name=\"lookingForAJob\" component={Input}/></div>\r\n        <div><b>Мой рабочий опыт:</b></div>\r\n        <div><Field type=\"text\" name=\"lookingForAJobDescription\" component={Textarea} cols=\"50\"/></div>\r\n        {isMe && <div>\r\n            <button>Save</button>\r\n            <button onClick={goOutOfEditMode}>Cancel</button>\r\n        </div>}\r\n    </form>\r\n}\r\n\r\nconst ReduxFormProfileData = reduxForm({\r\n    form: 'profile-data' // a unique identifier for this form\r\n})(ProfileDataForm);\r\n\r\nexport default ReduxFormProfileData","import land from \"../../img/landscape.webp\";\r\nimport c from \"./Profile.module.css\";\r\nimport ava from \"../../img/ava.png\"\r\nimport Preloader from \"../common/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\n\r\nconst ProfileInfo = ({profile, status, isMe, updateStatus, savePhoto, saveProfile, editMode, setEditMode}) => {\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onSubmit = (formData) => {\r\n        saveProfile(formData);\r\n    }\r\n\r\n    if (!isMe) setEditMode(false);\r\n\r\n    return <>\r\n        {isMe && <img src={land} alt=\"Profile wallpaper\" className={c.land}/>}\r\n        {editMode\r\n            ? <><ProfileDataForm profile={profile} isMe={ isMe} savePhoto={savePhoto} initialValues={profile}\r\n                               goOutOfEditMode={()=>{setEditMode(false);}} onSubmit={onSubmit}/>\r\n                               <ProfileStatusWithHooks status={status} updateStatus={updateStatus} isMe={isMe}/>\r\n                               </>\r\n            : <><ProfileData profile={profile} isMe={ isMe}\r\n                             goToEditMode={()=>{setEditMode(true);}}/>\r\n                             <div className={c.status}>Статус:</div>\r\n                             <div>{status}</div></>}\r\n    </>\r\n}\r\n\r\nconst ProfileData = ({profile, isMe, goToEditMode}) => {\r\n    let cnt=0;\r\n    return <>\r\n        <div><h2>{profile.fullName}</h2></div>\r\n        <div><font color=\"red\" size=\"+2\">{profile.aboutMe}</font></div>\r\n        <div><img src={profile.photos?.large || ava} alt=\"Contact\" className={c.mainPhoto} /></div>\r\n        <div className={c.contactsHead}><h3>Контакты:</h3></div>\r\n        <div className={c.contacts}>{ Object.entries(profile.contacts).map(c => {\r\n                if (c[1]) {cnt++; return <div key={cnt}> <b>{c[0]}:</b> {c[1]}</div>}\r\n                else return \"\";\r\n            }\r\n        )}\r\n        {!!cnt || <div>Нет данных</div>}\r\n        </div>\r\n        <div><br/><b>Поиск работы:</b> {profile.lookingForAJob?<i>\"Да\"</i>:\"Нет\"}</div>\r\n        {profile.lookingForAJob?<div><b>Опыт работы:</b> {profile.lookingForAJobDescription}</div>:\"\"}\r\n        {isMe && <button onClick={goToEditMode}>Edit</button>}\r\n    </>\r\n}\r\n\r\nexport default ProfileInfo","import MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ProfileInfo from \"./ProfileInfo\";\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status}\r\n                         updateStatus={props.updateUserStatus}\r\n                         isMe={props.profile?.userId === props.myUserId}\r\n                         savePhoto={props.savePhoto}\r\n                         saveProfile={props.saveProfile}\r\n                         editMode={props.editMode}\r\n                         setEditMode={props.setEditProfile}\r\n            />\r\n            <MyPostsContainer />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getUserProfileThunkCreator, getUserStatusThunkCreator,\r\n    saveProfileThunkCreator, setEditProfile,\r\n    updatePhotoThunkCreator, updateUserStatusThunkCreator\r\n} from \"../../redux/profileBlockReducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId || this.props.myUserId || 2;\r\n\r\n        this.props.getUserProfile(userId);\r\n        this.props.getUserStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId ) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props}/>\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    profile: state.profileBlock.profile,\r\n    editMode: state.profileBlock.profileEdit,\r\n    status: state.profileBlock.status,\r\n    myUserId: state.auth.userId\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    getUserProfile: (userId) => {\r\n        dispatch(getUserProfileThunkCreator(userId))\r\n    },\r\n    getUserStatus: (userId) => {\r\n        dispatch(getUserStatusThunkCreator(userId))\r\n    },\r\n    updateUserStatus: (status) => {\r\n        dispatch(updateUserStatusThunkCreator(status))\r\n    },\r\n    savePhoto: (photo) => {\r\n        dispatch(updatePhotoThunkCreator(photo))\r\n    },\r\n    saveProfile: (profile) => {\r\n        dispatch(saveProfileThunkCreator(profile))\r\n    },\r\n    setEditProfile: (mode) => {\r\n        dispatch(setEditProfile(mode))\r\n    }\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps), //#3\r\n    withAuthRedirect, //#2 - HOC\r\n    withRouter //#1\r\n)(ProfileContainer);"],"sourceRoot":""}