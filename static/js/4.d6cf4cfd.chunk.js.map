{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/OneDialog/OneDialog.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","OneDialog","props","path","id","className","c","dialog","active","to","name","Message","message","maxLength","maxLengthCreator","NewMsgReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","required","placeholder","Dialogs","p","dlgDataComp","state","dialogs","map","dlg","msgDataComp","messages","m","dialogItems","value","onAddMessage","msgText","compose","connect","dialogBlock","dispatch","msg","addMessageToDialogActionCreator","withAuthRedirect"],"mappings":"iFACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,YAAc,6BAA6B,OAAS,wBAAwB,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,2B,sFCSlMC,EAPG,SAACC,GACf,IAAIC,EAAO,YAAcD,EAAME,GAC/B,OAAO,qBAAKC,UAAWC,IAAEC,OAAS,IAAMD,IAAEE,OAAnC,SACH,eAAC,IAAD,CAASC,GAAIN,EAAb,cAAqBD,EAAMQ,WCCpBC,EALC,SAAAT,GAAK,OAChB,qBAAKG,UAAWC,IAAEM,QAAlB,SACIV,EAAMU,W,kCCsBTC,EAAYC,YAAiB,KAgB7BC,EAAkBC,YAAU,CAACC,KAAK,cAAhBD,EAdL,SAACd,GAChB,OACI,uBAAMgB,SAAUhB,EAAMiB,aAAtB,UACI,8BACI,cAACC,EAAA,EAAD,CAAOV,KAAK,UAAUW,UAAWC,IAC1BC,SAAU,CAACC,IAAUX,GAAYY,YAAY,sBAExD,8BACI,oGAQDC,EArCC,SAACC,GACb,IAAMC,EAAcD,EAAEE,MAAMC,QAAQC,KAAI,SAAAC,GAAG,OAAI,cAAC,EAAD,CAAwBtB,KAAMsB,EAAItB,KAAMN,GAAI4B,EAAI5B,IAAhC4B,EAAI5B,OAC7D6B,EAAcN,EAAEE,MAAMK,SAASH,KAAI,SAAAI,GAAC,OAAI,cAAC,EAAD,CAAoBvB,QAASuB,EAAEvB,SAAjBuB,EAAE/B,OAG9D,OACI,sBAAKC,UAAWC,IAAEwB,QAAlB,UACI,qBAAKzB,UAAWC,IAAE8B,YAAlB,SACKR,IAEL,sBAAKvB,UAAWC,IAAE4B,SAAlB,UACKD,EACD,cAAClB,EAAD,CAAiBG,SATP,SAACmB,GAAWV,EAAEW,aAAaD,EAAME,mB,uBCU5CC,sBACXC,aAfkB,SAACZ,GACnB,MAAO,CACHA,MAAOA,EAAMa,gBAII,SAACC,GACtB,MAAO,CACHL,aAAc,SAACM,GACXD,EAASE,YAAgCD,SAOjDE,IAFWN,CAGbd","file":"static/js/4.d6cf4cfd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__S-V0g\",\"dialogItems\":\"Dialogs_dialogItems__28cCP\",\"dialog\":\"Dialogs_dialog__3KodG\",\"active\":\"Dialogs_active__3-pmQ\",\"messages\":\"Dialogs_messages__qKobE\",\"message\":\"Dialogs_message__3HIgh\"};","import c from \"../Dialogs.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst OneDialog = (props) => {\r\n    let path = \"/dialogs/\" + props.id;\r\n    return <div className={c.dialog + ' ' + c.active}>\r\n        <NavLink to={path}> {props.name}</NavLink>\r\n    </div>\r\n}\r\n\r\nexport default OneDialog;","import c from \"../Dialogs.module.css\";\r\n\r\nconst Message = props =>\r\n     <div className={c.message}>\r\n        {props.message}\r\n    </div>\r\n\r\nexport default Message;","import c from \"./Dialogs.module.css\";\r\nimport OneDialog from \"./OneDialog/OneDialog\";\r\nimport Message from \"./Message/Message\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormControls\";\r\nimport {required, maxLengthCreator} from \"../common/validators\";\r\n\r\nconst Dialogs = (p) => {\r\n    const dlgDataComp = p.state.dialogs.map(dlg => <OneDialog key={dlg.id} name={dlg.name} id={dlg.id}/>);\r\n    const msgDataComp = p.state.messages.map(m => <Message key={m.id} message={m.message}/>);\r\n    const addNewMessage = (value) => {p.onAddMessage(value.msgText);};\r\n\r\n    return (\r\n        <div className={c.dialogs}>\r\n            <div className={c.dialogItems}>\r\n                {dlgDataComp}\r\n            </div>\r\n            <div className={c.messages}>\r\n                {msgDataComp}\r\n                <NewMsgReduxForm onSubmit={addNewMessage}/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Через замыкание создаём ф-цию с максимальной требуемой длиной\r\nconst maxLength = maxLengthCreator(100);\r\n\r\nconst newMsgForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field name=\"msgText\" component={Textarea}\r\n                       validate={[required, maxLength]} placeholder=\"Enter your text\" />\r\n            </div>\r\n            <div>\r\n                <button>Отправить</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst NewMsgReduxForm = reduxForm({form:\"newMsgForm\"})(newMsgForm);\r\n\r\nexport default Dialogs;","import {addMessageToDialogActionCreator} from \"../../redux/dialogBlockReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        state: state.dialogBlock\r\n    };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        onAddMessage: (msg) => {\r\n            dispatch(addMessageToDialogActionCreator(msg));\r\n        }\r\n    };\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps), //#\r\n    withAuthRedirect, //#1\r\n)(Dialogs);"],"sourceRoot":""}